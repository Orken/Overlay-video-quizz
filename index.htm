<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="dist/style.css">
</head>
<body>
	<div class="container">
		<div id="video_box">
			<div id="overlayframe1">
				<form id="form1">
					<div id="question1">
						<input type="radio" name="check1" value="0" id="check1-1">
						<label for="check1-1"></label>
						<input type="radio" name="check1" value="1" id="check1-2">
						<label for="check1-2"></label>
					</div>
					<div id="question2">
						<input type="radio" name="check2" value="0" id="check2-1">
						<label for="check2-1"></label>
						<input type="radio" name="check2" value="1" id="check2-2">
						<label for="check2-2"></label>
					</div>
					<div id="valid1">
						<button type='submit'>Valider</button>
					</div>
				</form>
			</div>
			<div id="overlayframe2">
				<form id="form2">
					<div id="question1">
						<input type="radio" name="check3" value="0" id="check3-1">
						<label for="check3-1"></label>
						<input type="radio" name="check3" value="1" id="check3-2">
						<label for="check3-2"></label>
					</div>
					<div id="valid1">
						<button type='submit'>Valider</button>
					</div>
				</form>
			</div>
			<video id="player" src="videos/Debrief_CH3_prevue_03.mp4" type="video/mp4" controls>
				Your browser does not support this streaming content.
			</video>
		</div>
	</div>
	<script src="js/overlay.js?5464"></script>
	<script>
		var formSend = function (data) {
			var response = [
				{	
					action: 'pauseVideo'
				},
				{
					action: 'playAudio',
					id: Number(data.check1)
				},
				{
					action: 'playAudio',
					id: Number(data.check2) + 2
				},
				{
					action: 'jumpTo',
					time: 5
				},
				{
					action: 'playVideo'
				}
			];
			return response;
		}

		var myOverlay = new Overlay({
			videoBox: '#video_box',
			autoplay: true,
			fullscreen: true,
			overlays: [
				{
					layer: '#overlayframe1',
					start: 2,
					stop: 5,
					callback: formSend,
					validation: function (data) {
						console.log("V1");
						return data.check1!=undefined && data.check2!=undefined;
					},
					audios: [
						'audios/faire_beneficier_de_votre_experience.mp3',
						'audios/connaitre_la_vision_de_votre_collaborateur.mp3',
						'audios/donner_un_poisson.mp3',
						'audios/apprendre_a_pecher.mp3'
					]
				},
				{
					layer: '#overlayframe2',
					start: 8,
					stop: 16,
					callback: formSend,
					validation: function (data) {
						console.log("V2");
						return data.check3!=undefined;
					},
					audios: [
						'audios/faire_beneficier_de_votre_experience.mp3',
						'audios/connaitre_la_vision_de_votre_collaborateur.mp3',
						'audios/donner_un_poisson.mp3',
						'audios/apprendre_a_pecher.mp3'
					]
				},
			]
		});
	</script>
</body>
</html>